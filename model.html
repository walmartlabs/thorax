
<html>
  <head>
    <meta charset="utf-8">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thorax: Model Plugin</title>
    
    <link rel="stylesheet" type="text/css" href="screen.css">
    
    

    

    <!-- Typekit -->
    
      <script type="text/javascript">
        (function() {
          var config = {
            kitId: 'hjp0pft',
            scriptTimeout: 3000
          };
          var h=document.getElementsByTagName("html")[0];h.className+=" wf-loading";var t=setTimeout(function(){h.className=h.className.replace(/( |^)wf-loading( |$)/g,"");h.className+=" wf-inactive"},config.scriptTimeout);var tk=document.createElement("script");tk.src='//use.typekit.net/'+config.kitId+'.js';tk.type="text/javascript";tk.async="true";tk.onload=tk.onreadystatechange=function(){var a=this.readyState;if(a&&a!="complete"&&a!="loaded")return;clearTimeout(t);try{Typekit.load(config)}catch(b){}};var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(tk,s)
        })();
      </script>
    
  </head>
  <body><div id="container">
  <div id="nav">
    
      <div id="header">
        <a href="index.html" id="logo">Thorax<span>Model Plugin</span></a>
      </div>
    
    <ul id="sections">
      
        <li>
          <a href="#thorax-model">Thorax.Model</a>
          
            <ul>
              
                <li>
                  <a href="#thorax-model/model-thorax-model-name-protoprops">model </a>
                </li>
              
                <li>
                  <a href="#thorax-model/isempty-model-isempty">isEmpty </a>
                </li>
              
                <li>
                  <a href="#thorax-model/ispopulated-model-ispopulated">isPopulated </a>
                </li>
              
            </ul>
          
        </li>
      
        <li>
          <a href="#view-events">View Events</a>
          
        </li>
      
        <li>
          <a href="#thorax-view">Thorax.View</a>
          
            <ul>
              
                <li>
                  <a href="#thorax-view/context-view-context">context </a>
                </li>
              
                <li>
                  <a href="#thorax-view/setmodel-view-setmodel-model-options">setModel </a>
                </li>
              
            </ul>
          
        </li>
      
        <li>
          <a href="#">$</a>
          
            <ul>
              
                <li>
                  <a href="#/model-event-target-model-view">$.model </a>
                </li>
              
            </ul>
          
        </li>
      
    </ul><div class="header"><a href="#">Plugins</a></div><ul class="sections"><li><a href="collection.html">Collection</a></li><li><a href="event.html">Event</a></li><li><a href="form.html">Form</a></li><li><a href="helpers.html">Helpers</a></li><li><a href="loading.html">Loading</a></li><li><a href="mobile.html">Mobile</a></li><li><a href="model.html">Model</a></li><li><a href="view-controller.html">ViewController</a></li></ul>
    
    
  </div>
  <div id="content">
    
    <h1>Thorax Model Plugin</h1>
<p>Adds model binding to Thorax.View and necessary support methods to Thorax.Model, but does not implement any significant model or sync functionality.

</p>
<h2 id="thorax-model">Thorax.Model</h2>
<h3 id="thorax-model/model-thorax-model-name-protoprops" class="signature">model <em>Thorax.model(name [,protoProps])</em></h3>
<p>Get or set a model class.

</p>
<h3 id="thorax-model/isempty-model-isempty" class="signature">isEmpty <em>model.isEmpty()</em></h3>
<p>Used by the <code>empty</code> helper. In a collection the implementations of <code>isEmpty</code> and <code>isPopulated</code> differ, but in a model <code>isEmpty</code> is an alias for <code>isPopulated</code>.

</p>
<h3 id="thorax-model/ispopulated-model-ispopulated" class="signature">isPopulated <em>model.isPopulated()</em></h3>
<p>Used by <code>setModel</code> to determine wether or not to fetch the model. The default implementation checks to see if any keys that are not <code>id</code> and are not default values have been set.

</p>
<h2 id="view-events">View Events</h2>
<p>The model plugin extends the events plugin by allowing a <code>model</code> hash of events to be specified in the View <code>events</code> object or to a view's <code>on</code> method. When a model is bound to a view with <code>setModel</code> any events on the model can be observed by the view in this way. For instance to observe any model <code>change</code> event when it is bound to any view:

</p>
<pre><code><span class="tag">Thorax</span><span class="class">.View</span><span class="class">.on</span>(<span class="rules">{
  <span class="rule"><span class="attribute">model</span>:<span class="value"> {
    change: <span class="function">function()</span> {
      //<span class="string">"this"</span> will refer to the view
    </span>}</span></span>
  }
});</code></pre>
<h2 id="thorax-view">Thorax.View</h2>
<h3 id="thorax-view/context-view-context" class="signature">context <em>view.context()</em></h3>
<p>Changes the default context available to a view to be <code>this</code> + <code>model.attributes</code> instead of just <code>this</code>.

</p>
<h3 id="thorax-view/setmodel-view-setmodel-model-options" class="signature">setModel <em>view.setModel(model [,options])</em></h3>
<p>Set the <code>model</code> attribute of a view, triggering certain behaviors based on the options passed. Setting <code>model</code> in the construtor will automatically call <code>setModel</code>. When a model is set it will be fetched by default if it needs to be, re-rendering the view when it has succeeded. Available options:

</p>
<ul>
<li><strong>fetch</strong> - Boolean, wether to fetch the model when it is set, defaults to true.</li>
<li><strong>success</strong> - Callback on fetch success, defaults to noop</li>
<li><strong>render</strong> - Render on the view on model:change? Defaults to true</li>
<li><strong>populate</strong> - Call <code>populate</code> with the model's attributes when it is set? Defaults to true. Pass <code>populate: {children: false}</code> to prevent child views from having their inputs populated.</li>
<li><strong>errors</strong> - When the model triggers an <code>error</code> event, trigger the event on the view? Defaults to true</li>
</ul>
<p>The following are equivelent:

</p>
<pre><code>var view = new Thorax<span class="preprocessor">.View</span>({
  model: myModel
})<span class="comment">;</span>
view<span class="preprocessor">.setModel</span>(myModel)<span class="comment">;</span></code></pre>
<h2 id="">$</h2>
<h3 id="/model-event-target-model-view" class="signature">$.model <em>$(event.target).model([view])</em></h3>
<p>Get a reference to the nearest bound model.

</p>
<pre><code>$(event<span class="variable">.target</span>)<span class="variable">.model</span>()</code></pre>
<p>Passing a view instance will limit the lookup to just that view.</p>

  <p>Copyright 2012 <a href="http://walmartlabs.com">@WalmartLabs</a></p></div>
</div><a href="https://github.com/walmartlabs/thorax"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"></a></body>
</html>